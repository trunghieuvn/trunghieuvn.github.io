<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Set & Show Cookies Demo</title>
</head>

<body>
  <h1>Demo set cookie từ HTML + JS</h1>
  <a href="?ref=demo123">Nhấn vào đây để set cookie</a>

  <h2>Cookies hiện tại:</h2>
  <pre id="cookieDisplay">(chưa có cookie)</pre>

  <script>
    // Hàm hiển thị tất cả cookies
    function displayCookies() {
      const cookies = document.cookie || '';
      document.getElementById('cookieDisplay').textContent =
        cookies ? cookies : '(không có cookie)';
    }

    // Lấy giá trị ref từ URL
    const urlParams = new URLSearchParams(window.location.search);
    const ref = urlParams.get('ref');

    if (ref) {
      // Tính thời gian hết hạn (1h)
      const date = new Date();
      date.setTime(date.getTime() + (60 * 60 * 1000)); // 1h = 60 phút

      // Set cookie
      document.cookie = `ref=${ref}; expires=${date.toUTCString()}; path=/`;

      console.log(`Cookie "ref" đã được set: ${ref}`);
    }

    // Hiển thị cookies khi load trang
    displayCookies();
  </script>
</body>

</html>